<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Learning321 ‚Äì Greatest Scientists (Blogger-Ready)</title>
<style>
  * { box-sizing: border-box; }
  :root{
    --bg1: #6ec3ff;
    --bg2: #b3ffab;
    --bg3: #ffd3a5;
    --ink:#0b0b2b;
    --accent:#ff4d6d;
    --accent2:#845ef7;
    --accent3:#2ec4b6;
    --card:#ffffffee;
  }
  html, body { height: 100%; }
  body{ margin:0; font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; color:var(--ink); overflow-x:hidden;}
  .parallax{ position: fixed; inset:0; z-index:-3; overflow:hidden; }
  .layer{ position:absolute; inset: -10vh -10vw; background-repeat: repeat-x; background-size: cover; will-change: transform; }
  .layer.sky{ background: linear-gradient(180deg, #b9e8ff 0%, var(--bg1) 100%); z-index:-3; }
  .layer.clouds{ z-index:-2; opacity:.7; }
  .layer.clouds::before, .layer.clouds::after{
    content:""; position:absolute; inset:0; background:
      radial-gradient(circle at 10% 30%, #fff 0 12%, #ffffff00 13%),
      radial-gradient(circle at 35% 40%, #fff 0 10%, #ffffff00 11%),
      radial-gradient(circle at 60% 25%, #fff 0 14%, #ffffff00 15%),
      radial-gradient(circle at 80% 35%, #fff 0 10%, #ffffff00 11%),
      radial-gradient(circle at 20% 65%, #fff 0 11%, #ffffff00 12%),
      radial-gradient(circle at 55% 70%, #fff 0 16%, #ffffff00 17%);
    background-size: 120% 100%;
    animation: drift 80s linear infinite;
  }
  .layer.hills-far{ z-index:-1; background: linear-gradient(180deg, #ffe3c2 0, var(--bg3) 60%); clip-path: polygon(0 55%, 12% 60%, 25% 58%, 40% 65%, 55% 60%, 70% 66%, 85% 62%, 100% 70%, 100% 100%, 0 100%); opacity:.8}
  .layer.hills-near{ z-index:0; background: linear-gradient(180deg, #d0ffcf 0, var(--bg2) 60%); clip-path: polygon(0 65%, 15% 70%, 30% 68%, 45% 75%, 60% 70%, 75% 78%, 90% 73%, 100% 80%, 100% 100%, 0 100%);}
  @keyframes drift{ from{transform:translateX(0)} to{transform:translateX(-50%)} }
  .pSky{ transform: translateY(calc(var(--scroll,0) * 0.10px)); }
  .pClouds{ transform: translateY(calc(var(--scroll,0) * 0.20px)); }
  .pFar{ transform: translateY(calc(var(--scroll,0) * 0.35px)); }
  .pNear{ transform: translateY(calc(var(--scroll,0) * 0.55px)); }
  header{ position: sticky; top:0; z-index:5; backdrop-filter: blur(10px); background: linear-gradient(90deg, #ffffffdd, #fff8); border-bottom:1px solid #ffffff88; }
  .wrap{ max-width: 1100px; margin:0 auto; padding: 16px; }
  .brand{ display:flex; align-items:center; gap:12px; }
  .logo{ width:44px; height:44px; border-radius:50%; background: conic-gradient(from 0deg, #ff4d6d, #ffd166, #06d6a0, #118ab2, #845ef7, #ff4d6d); box-shadow: 0 0 0 4px #fff; display:grid; place-items:center; font-weight:900; color:#fff; text-shadow:0 1px 3px #0004;}
  h1{ margin:0; font-size: clamp(20px, 4vw, 32px);} 
  main{ min-height: 120vh; }
  .panel{ background: var(--card); border-radius: 18px; box-shadow: 0 10px 30px #0002; padding: 18px; margin: 16px 0; }
  .row{ display:flex; flex-wrap:wrap; gap:14px; align-items:center; }
  .btn{ border:0; padding: 10px 14px; border-radius: 999px; font-weight: 700; cursor:pointer; transition:.2s transform, .2s box-shadow; box-shadow: 0 8px 20px #0001; }
  .btn:hover{ transform: translateY(-2px); box-shadow:0 12px 24px #0002; }
  .btn:focus-visible{ outline: 3px solid #000; outline-offset: 2px; }
  .primary{ background: linear-gradient(135deg, var(--accent), #ff8fab); color:#fff; }
  .ghost{ background:#fff; color:var(--ink); border:2px dashed #0002; }
  .flat{ background:#f6f7ff; }
  .bad{ background: linear-gradient(135deg, #ff7b00, #ff006e); color:#fff; }
  .good{ background: linear-gradient(135deg, #06d6a0, #2ec4b6); color:#083d3d; }
  .purple{ background: linear-gradient(135deg, #9775fa, #845ef7); color:#fff; }
  .fields{ display:grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap:12px; }
  .chip{ padding:12px; border-radius:16px; background: #ffffff; border:2px solid #0001; display:flex; align-items:center; gap:8px; cursor:pointer; transition:.2s transform, .2s box-shadow, .2s background; min-height:56px; }
  .chip:hover{ transform: translateY(-3px); box-shadow: 0 10px 22px #0002; background:#fff7; }
  .chip .emoji{ font-size: 22px; }
  .card{ display:grid; gap:12px; background:#fff; border:2px solid #0002; border-radius:16px; padding:16px; }
  .options{ display:grid; gap:8px; }
  .option{ display:flex; align-items:center; gap:10px; border:2px solid #0001; border-radius:14px; padding:10px; cursor:pointer; background:#f9f9ff; }
  .option:hover{ background:#f2eeff; }
  .option input{ width:18px; height:18px; }
  .result{ display:flex; gap:16px; align-items:flex-start; flex-wrap:wrap; }
  .avatar{ width:200px; height:200px; border-radius:24px; background:#fff; border:3px solid #0002; display:grid; place-items:center; overflow:hidden; }
  .avatar img{ width:100%; height:100%; object-fit:cover; display:block; }
  .contrib{ font-size: 18px; font-weight:600; }
  .credit{ font-size: 12px; opacity:.75; margin-top:6px; }
  footer{ padding: 60px 16px 100px; text-align:center; opacity:.9; }
  .overlay{ position: fixed; inset:0; display:none; align-items:center; justify-content:center; background:#0006; z-index:10; }
  .overlay.show{ display:flex; }
  .overlay .box{ background:#fff; padding:20px; border-radius:16px; box-shadow: 0 10px 30px #0005; max-width: 480px; }
  @media (max-width:600px){ .avatar{ width:150px; height:150px; } }
</style>
</head>
<body>
  <div class="parallax" aria-hidden="true">
    <div class="layer sky pSky"></div>
    <div class="layer clouds pClouds"></div>
    <div class="layer hills-far pFar"></div>
    <div class="layer hills-near pNear"></div>
  </div>
  <header>
    <div class="wrap row" role="navigation" aria-label="Top Bar">
      <div class="brand" aria-label="Learning321 ‚Äì Greatest Scientists">
        <div class="logo" aria-hidden="true">L321</div>
        <h1>Learning321 ‚Äì Greatest Scientists</h1>
      </div>
      <div style="margin-left:auto" class="row">
        <button class="btn flat good" id="btnPause" aria-pressed="false">‚è∏Ô∏è Pause</button>
        <button class="btn flat bad" id="btnStop">‚èπÔ∏è Stop</button>
        <button class="btn flat purple" id="btnReset">üîÑ Reset</button>
      </div>
    </div>
  </header>
  <main>
    <section class="wrap">
      <div class="panel">
        <p><strong>Goal:</strong> Know the people who shaped our lives through their inventions. Pick a field, answer fun questions, and meet a scientist with a bright photo and one‚Äëline contribution! üî¨üß™üß†</p>
        <div class="row">
          <button class="btn primary" id="btnStart">Start ‚ñ∂Ô∏è</button>
          <button class="btn ghost" id="btnHow">How to Play ‚ùì</button>
          <button class="btn ghost" id="btnRetry" disabled>Retry Field ‚ôªÔ∏è</button>
        </div>
      </div>
      <div id="howto" class="panel" hidden>
        <h2>How it works</h2>
        <ol>
          <li>Choose a field (e.g., Physics, Botany, Computer Science‚Ä¶).</li>
          <li>Answer three quick questions. Each time you pick a person, you‚Äôll see their image and a key contribution.</li>
          <li>Use Pause, Stop, or Reset anytime. Retry lets you switch fields.</li>
        </ol>
        <p style="font-size:13px;opacity:.8">Images are from Wikimedia Commons (public domain or Creative Commons). Click the ‚ÑπÔ∏è to view credit details.</p>
      </div>
      <div id="fieldPicker" class="panel" hidden>
        <h2>Pick a Field</h2>
        <div class="fields" id="fields"></div>
      </div>
      <div id="qa" class="panel" hidden>
        <h2 id="qaTitle">Questions</h2>
        <div id="questionArea"></div>
      </div>
      <div id="result" class="panel" hidden>
        <h2>Meet your Scientist üéâ</h2>
        <div class="result">
          <div class="avatar" id="avatar" aria-label="Scientist photo"></div>
          <div>
            <div style="font-size:24px;font-weight:800" id="personName">Name</div>
            <div class="contrib" id="personContrib">Contribution sentence appears here.</div>
            <div class="credit" id="personCredit"></div>
            <div style="margin-top:10px" class="row">
              <button class="btn primary" id="btnNextQ">Next Question ‚û°Ô∏è</button>
              <button class="btn ghost" id="btnRetry2">Retry Field ‚ôªÔ∏è</button>
            </div>
          </div>
        </div>
      </div>
      <footer>
        <small>Made with curiosity and color. Sounds are synthesized on your device. üéµ</small>
      </footer>
    </section>
  </main>
  <div class="overlay" id="pauseOverlay" role="dialog" aria-modal="true" aria-label="Paused">
    <div class="box">
      <h3>Game Paused</h3>
      <p>Take a breath. When you‚Äôre ready, continue the journey! üåø</p>
      <div class="row">
        <button class="btn good" id="btnResume">‚ñ∂Ô∏è Resume</button>
        <button class="btn bad" id="btnOverlayStop">‚èπÔ∏è Stop</button>
      </div>
    </div>
  </div>
<script>
const $ = (q) => document.querySelector(q);
const $$ = (q) => document.querySelectorAll(q);
function updateParallax(){
  const y = window.scrollY || 0; 
  document.body.style.setProperty('--scroll', y);
}
window.addEventListener('scroll', updateParallax, {passive:true});
updateParallax();
let audioCtx = null; let masterGain = null; let soundEnabled = true;
function ensureAudio(){
  if(audioCtx) return;
  audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  masterGain = audioCtx.createGain();
  masterGain.gain.value = 0.2;
  masterGain.connect(audioCtx.destination);
}
function beep(type='sine', freq=440, dur=0.15, attack=0.005, release=0.05){
  if(!soundEnabled) return;
  ensureAudio();
  const o = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  o.type = type; o.frequency.value = freq;
  o.connect(g); g.connect(masterGain);
  const now = audioCtx.currentTime;
  g.gain.setValueAtTime(0, now);
  g.gain.linearRampToValueAtTime(1, now+attack);
  g.gain.exponentialRampToValueAtTime(0.001, now+attack+dur+release);
  o.start(now);
  o.stop(now+attack+dur+release+0.02);
}
function chord(){ [523,659,784].forEach((f,i)=> setTimeout(()=>beep('triangle', f, 0.18), i*40)); }
const DB = {
  Physics: [
    {name:'Albert Einstein', img:'https://upload.wikimedia.org/wikipedia/commons/d/d3/Albert_Einstein_Head.jpg', contrib:'Explained space, time, and energy with relativity.', credit:'Photo: Public Domain / Wikimedia Commons'},
    {name:'Marie Curie', img:'https://upload.wikimedia.org/wikipedia/commons/7/79/Marie_Curie_c1920.jpg', contrib:'Pioneered research on radioactivity and won two Nobels.', credit:'Photo: Public Domain / Wikimedia Commons'},
    {name:'Isaac Newton', img:'https://upload.wikimedia.org/wikipedia/commons/3/39/Portrait_of_Sir_Isaac_Newton%2C_1689.jpg', contrib:'Formulated laws of motion and universal gravitation.', credit:'Portrait: Public Domain / Wikimedia Commons'},
  ],
  Chemistry: [
    {name:'Dmitri Mendeleev', img:'https://upload.wikimedia.org/wikipedia/commons/3/3c/Dmitri_Mendeleev%2C_1890s.jpg', contrib:'Created the periodic table organizing the elements.', credit:'Photo: Public Domain / Wikimedia Commons'},
    {name:'Rosalind Franklin', img:'https://upload.wikimedia.org/wikipedia/commons/8/8a/Rosalind_Franklin.jpg', contrib:'Revealed DNA‚Äôs structure with X-ray crystallography.', credit:'Photo: CC BY / MRC Laboratory / Wikimedia Commons'},
    {name:'Linus Pauling', img:'https://upload.wikimedia.org/wikipedia/commons/7/76/Linus_Pauling_1970s.jpg', contrib:'Explained chemical bonding and molecular structures.', credit:'Photo: CC BY-SA / Wikimedia Commons'},
  ],
  Mathematics: [
    {name:'Carl Friedrich Gauss', img:'https://upload.wikimedia.org/wikipedia/commons/1/1a/Carl_Friedrich_Gauss.jpg', contrib:'Laid foundations across number theory and statistics.', credit:'Portrait: Public Domain / Wikimedia Commons'},
    {name:'Ada Lovelace', img:'https://upload.wikimedia.org/wikipedia/commons/a/a4/Ada_Lovelace_portrait.jpg', contrib:'Wrote the first algorithm concept for a machine.', credit:'Portrait: Public Domain / Wikimedia Commons'},
    {name:'Srinivasa Ramanujan', img:'https://upload.wikimedia.org/wikipedia/commons/9/9f/Srinivasa_Ramanujan_-_OPC_-_2.jpg', contrib:'Discovered deep results in number theory from intuition.', credit:'Photo: Public Domain / Wikimedia Commons'},
  ],
  Biology: [
    {name:'Charles Darwin', img:'https://upload.wikimedia.org/wikipedia/commons/7/79/Charles_Darwin_by_John_Collier.jpg', contrib:'Proposed evolution by natural selection.', credit:'Portrait: Public Domain / Wikimedia Commons'},
    {name:'Barbara McClintock', img:'https://upload.wikimedia.org/wikipedia/commons/2/2e/Barbara_McClintock_%281982%29.jpg', contrib:'Discovered jumping genes (transposons).', credit:'Photo: Public Domain / Wikimedia Commons'},
    {name:'Alexander Fleming', img:'https://upload.wikimedia.org/wikipedia/commons/7/79/Alexander_Fleming_3.jpg', contrib:'Found penicillin, the first antibiotic.', credit:'Photo: Public Domain / Wikimedia Commons'},
  ],
  Botany: [
    {name:'Janaki Ammal', img:'https://upload.wikimedia.org/wikipedia/commons/1/17/Janaki_Ammal.jpg', contrib:'Advanced plant cytogenetics and biodiversity in India.', credit:'Photo: Public Domain / Wikimedia Commons'},
    {name:'George Washington Carver', img:'https://upload.wikimedia.org/wikipedia/commons/0/0e/George_Washington_Carver_c1910.jpg', contrib:'Innovated crop rotations and new plant products.', credit:'Photo: Public Domain / Wikimedia Commons'},
    {name:'Joseph Banks', img:'https://upload.wikimedia.org/wikipedia/commons/0/05/Sir_Joseph_Banks_by_Sir_Joshua_Reynolds.jpg', contrib:'Cataloged thousands of plants during global voyages.', credit:'Portrait: Public Domain / Wikimedia Commons'},
  ],
  Zoology: [
    {name:'Konrad Lorenz', img:'https://upload.wikimedia.org/wikipedia/commons/4/43/Konrad_Lorenz_1973.jpg', contrib:'Founded modern ethology, studying animal behavior.', credit:'Photo: CC BY-SA / Wikimedia Commons'},
    {name:'Jane Goodall', img:'https://upload.wikimedia.org/wikipedia/commons/7/7e/Jane_Goodall_2015.jpg', contrib:'Transformed our understanding of chimpanzees.', credit:'Photo: CC BY / Wikimedia Commons'},
    {name:'Rachel Carson', img:'https://upload.wikimedia.org/wikipedia/commons/2/2d/Rachel-Carson.jpg', contrib:'Sparked environmental movement with wildlife science.', credit:'Photo: Public Domain / Wikimedia Commons'},
  ],
  Astronomy: [
    {name:'Galileo Galilei', img:'https://upload.wikimedia.org/wikipedia/commons/1/19/Galileo_Galilei_2.jpg', contrib:'Used telescopes to change our view of the cosmos.', credit:'Portrait: Public Domain / Wikimedia Commons'},
    {name:'Jocelyn Bell Burnell', img:'https://upload.wikimedia.org/wikipedia/commons/3/30/Jocelyn_Bell_Burnell_2015.jpg', contrib:'Discovered pulsars as a graduate student.', credit:'Photo: CC BY-SA / Wikimedia Commons'},
    {name:'Carl Sagan', img:'https://upload.wikimedia.org/wikipedia/commons/b/bb/Carl_Sagan_Planetary_Society.jpg', contrib:'Popularized astronomy and the search for life.', credit:'Photo: CC BY-SA / Wikimedia Commons'},
  ],
  "Computer Science": [
    {name:'Alan Turing', img:'https://upload.wikimedia.org/wikipedia/commons/a/a1/Alan_Turing_Aged_16.jpg', contrib:'Laid groundwork for computing and AI.', credit:'Photo: Public Domain / Wikimedia Commons'},
    {name:'Grace Hopper', img:'https://upload.wikimedia.org/wikipedia/commons/6/68/Grace_Hopper.jpg', contrib:'Pioneered compilers and popularized ‚Äúdebugging‚Äù.', credit:'Photo: Public Domain / Wikimedia Commons'},
    {name:'Tim Berners‚ÄëLee', img:'https://upload.wikimedia.org/wikipedia/commons/4/49/Tim_Berners-Lee_CP_2.jpg', contrib:'Invented the World Wide Web.', credit:'Photo: CC BY-SA / Wikimedia Commons'},
  ],
  Engineering: [
    {name:'Nikola Tesla', img:'https://upload.wikimedia.org/wikipedia/commons/d/d4/N.Tesla.JPG', contrib:'Advanced AC power and wireless ideas.', credit:'Photo: Public Domain / Wikimedia Commons'},
    {name:'Hedy Lamarr', img:'https://upload.wikimedia.org/wikipedia/commons/5/5e/Hedy_Lamarr_in_The_Heavenly_Body_1944.jpg', contrib:'Co-invented spread-spectrum tech behind Wi‚ÄëFi.', credit:'Photo: Public Domain / Wikimedia Commons'},
    {name:'I. K. Brunel', img:'https://upload.wikimedia.org/wikipedia/commons/1/16/IKBrunel.jpg', contrib:'Built revolutionary railways and bridges.', credit:'Photo: Public Domain / Wikimedia Commons'},
  ],
  Medicine: [
    {name:'Edward Jenner', img:'https://upload.wikimedia.org/wikipedia/commons/2/2b/Edward_Jenner2.jpg', contrib:'Developed the first successful vaccine.', credit:'Portrait: Public Domain / Wikimedia Commons'},
    {name:'Florence Nightingale', img:'https://upload.wikimedia.org/wikipedia/commons/f/f7/Florence_Nightingale_%28H_Hering_NPG_x82368%29.jpg', contrib:'Reformed nursing with statistics and care.', credit:'Photo: Public Domain / Wikimedia Commons'},
    {name:'Tu Youyou', img:'https://upload.wikimedia.org/wikipedia/commons/a/a4/Tu_Youyou_%28cropped%29.jpg', contrib:'Discovered artemisinin for malaria treatment.', credit:'Photo: CC BY-SA / Wikimedia Commons'},
  ],
  Geography: [
    {name:'Alexander von Humboldt', img:'https://upload.wikimedia.org/wikipedia/commons/d/da/Alexander_von_Humboldt_1843.jpg', contrib:'Linked climate, plants, and geography systematically.', credit:'Portrait: Public Domain / Wikimedia Commons'},
    {name:'Eratosthenes', img:'https://upload.wikimedia.org/wikipedia/commons/3/36/Eratosthenes.png', contrib:'Measured Earth‚Äôs circumference remarkably accurately.', credit:'Image: Public Domain / Wikimedia Commons'},
    {name:'Marie Tharp', img:'https://upload.wikimedia.org/wikipedia/commons/8/85/Marie_Tharp_1977.jpg', contrib:'Mapped the ocean floor revealing mid‚Äëocean ridges.', credit:'Photo: Public Domain / Wikimedia Commons'},
  ],
  Genetics: [
    {name:'Gregor Mendel', img:'https://upload.wikimedia.org/wikipedia/commons/9/9b/Gregor_Mendel_2.jpg', contrib:'Founded genetics with pea plant experiments.', credit:'Portrait: Public Domain / Wikimedia Commons'},
    {name:'Watson & Crick', img:'https://upload.wikimedia.org/wikipedia/commons/1/1e/Francis_Crick_and_James_Watson_1953.jpg', contrib:'Modeled DNA‚Äôs double helix (building on others).', credit:'Photo: Public Domain / Wikimedia Commons'},
    {name:'Doudna & Charpentier', img:'https://upload.wikimedia.org/wikipedia/commons/8/87/Doudna_and_Charpentier_2016.jpg', contrib:'Developed CRISPR gene editing.', credit:'Photo: CC BY 2.0 / Wikimedia Commons'},
  ],
};
const FIELD_EMOJI = { Physics:'üß≤', Chemistry:'‚öóÔ∏è', Mathematics:'‚ûó', Biology:'üß´', Botany:'üåø', Zoology:'üêæ', Astronomy:'üåå', 'Computer Science':'üíª', Engineering:'üõ†Ô∏è', Medicine:'ü©∫', Geography:'üß≠', Genetics:'üß¨' };
let state = { screen: 'idle', field: null, qIndex: 0, picks: [] };
const btnStart = $('#btnStart');
const btnHow = $('#btnHow');
const btnRetry = $('#btnRetry');
const btnRetry2 = $('#btnRetry2');
const btnNextQ = $('#btnNextQ');
const btnPause = $('#btnPause');
const btnStop = $('#btnStop');
const btnReset = $('#btnReset');
const btnResume = $('#btnResume');
const btnOverlayStop = $('#btnOverlayStop');
const howto = $('#howto');
const fieldPicker = $('#fieldPicker');
const fieldsEl = $('#fields');
const qa = $('#qa');
const qaTitle = $('#qaTitle');
const questionArea = $('#questionArea');
const result = $('#result');
const personName = $('#personName');
const personContrib = $('#personContrib');
const personCredit = $('#personCredit');
const avatar = $('#avatar');
const pauseOverlay = $('#pauseOverlay');
function show(el){ el.hidden = false; }
function hide(el){ el.hidden = true; }
function toIdle(){
  state = { screen:'idle', field:null, qIndex:0, picks:[] };
  hide(howto); hide(fieldPicker); hide(qa); hide(result);
  btnRetry.disabled = true; $('#btnRetry2')?.setAttribute('disabled', '');
}
function toField(){
  state.screen = 'field'; hide(qa); hide(result); show(fieldPicker); btnRetry.disabled = true; renderFields();
}
function renderFields(){
  fieldsEl.innerHTML = '';
  Object.keys(DB).forEach(field => {
    const chip = document.createElement('button');
    chip.className = 'chip'; chip.setAttribute('role','button'); chip.setAttribute('aria-pressed','false');
    chip.innerHTML = `<span class="emoji">${FIELD_EMOJI[field] || 'üî¨'}</span><span style="font-weight:800">${field}</span>`;
    chip.addEventListener('click', ()=>{ selectField(field); });
    fieldsEl.appendChild(chip);
  });
}
function selectField(field){
  state.field = field; state.qIndex = 0; state.picks = [];
  beep('square', 660, 0.12); btnRetry.disabled = false; hide(fieldPicker); toQuestion();
}
function toQuestion(){
  state.screen = 'q'; hide(result); show(qa);
  const field = state.field; const trio = DB[field];
  const qTexts = [
    `There are famous people who worked on ${field}. Who would you like to meet?`,
    `Whose work in ${field} feels most impactful to you today?`,
    `Whose story in ${field} are you most curious to hear?`
  ];
  qaTitle.textContent = `Field: ${field} ‚Äî Question ${state.qIndex+1} of 3`;
  const q = document.createElement('div'); q.className = 'card';
  q.innerHTML = `<div style="font-size:18px;font-weight:700">${qTexts[state.qIndex]}</div>`;
  const opts = document.createElement('div'); opts.className = 'options';
  trio.forEach((p, idx)=>{
    const id = `opt${state.qIndex}_${idx}`;
    const div = document.createElement('label'); div.className = 'option';
    div.innerHTML = `<input type="radio" name="q${state.qIndex}" id="${id}" value="${idx}"/> <span>${p.name}</span>`;
    const input = div.querySelector('input');
    input.addEventListener('change', ()=>{
      showPerson(p);
      state.picks[state.qIndex] = p.name;
      beep('sine', 520+idx*60, 0.12);
      chord();
    }, {once:true});
    opts.appendChild(div);
  });
  q.appendChild(opts);
  questionArea.innerHTML = ''; questionArea.appendChild(q);
}
function showPerson(p){
  state.screen = 'result'; show(result); hide(qa);
  personName.textContent = p.name; personContrib.textContent = p.contrib; personCredit.innerHTML = `‚ÑπÔ∏è <em>${p.credit || ''}</em>`;
  avatar.innerHTML = '';
  const img = document.createElement('img');
  img.loading = 'lazy';
  img.alt = p.name;
  img.referrerPolicy = 'no-referrer';
  img.crossOrigin = 'anonymous';
  img.src = p.img;
  let failed = false;
  img.onerror = ()=>{
    if(failed) return;
    failed = true;
    img.remove();
    avatar.insertAdjacentHTML('afterbegin', `<div style="padding:12px;text-align:center">Image unavailable.<br/>Try Next ‚û°Ô∏è</div>`);
  };
  avatar.appendChild(img);
}
function nextQuestion(){
  if(state.qIndex < 2){ state.qIndex++; toQuestion(); }
  else{
    beep('triangle', 880, 0.2); chord();
    qaTitle.textContent = `Nice! You explored ${state.field}.`;
    show(fieldPicker);
  }
}
function doPause(){
  if(state.screen === 'paused'){ return; }
  ensureAudio(); audioCtx.suspend(); soundEnabled = false;
  pauseOverlay.classList.add('show'); state.prevScreen = state.screen; state.screen = 'paused';
  btnPause.setAttribute('aria-pressed','true');
}
function doResume(){
  if(!audioCtx) return;
  audioCtx.resume(); soundEnabled = true; pauseOverlay.classList.remove('show'); state.screen = state.prevScreen || 'idle';
  btnPause.setAttribute('aria-pressed','false'); beep('sine', 660, 0.08);
}
function doStop(){ pauseOverlay.classList.remove('show'); toIdle(); beep('sawtooth', 220, 0.1); }
function doReset(){ toIdle(); beep('triangle', 440, 0.12); }
function doRetry(){ toField(); beep('square', 740, 0.12); }
$('#btnStart').addEventListener('click', ()=>{ ensureAudio(); toField(); chord(); });
$('#btnHow').addEventListener('click', ()=>{ howto.hidden = !howto.hidden; beep('sine', howto.hidden?380:520, 0.08); });
$('#btnRetry').addEventListener('click', doRetry);
$('#btnRetry2')?.addEventListener('click', doRetry);
$('#btnNextQ').addEventListener('click', ()=>{ nextQuestion(); });
$('#btnPause').addEventListener('click', ()=>{ (state.screen==='paused')?doResume():doPause(); });
$('#btnStop').addEventListener('click', doStop);
$('#btnReset').addEventListener('click', doReset);
$('#btnResume').addEventListener('click', doResume);
$('#btnOverlayStop').addEventListener('click', doStop);
window.addEventListener('keydown', (e)=>{
  if(e.key.toLowerCase()==='p') doPause();
  if(e.key.toLowerCase()==='n') nextQuestion();
});
toIdle();
</script>
</body>
</html>
